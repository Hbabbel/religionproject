<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Christ Wordle</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #121213;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }

    #board {
      display: grid;
      gap: 0.5rem;
    }

    .row {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
    }

    .tile {
      width: 3rem;
      height: 3rem;
      border: 2px solid #3a3a3c;
      font-size: 1.5rem;
      text-align: center;
      line-height: 3rem;
      font-weight: bold;
      text-transform: uppercase;
      background-color: #121213;
    }

    .correct {
      background-color: #538d4e;
      color: white;
      border: none;
    }

    .present {
      background-color: #b59f3b;
      color: white;
      border: none;
    }

    .absent {
      background-color: #3a3a3c;
      color: white;
      border: none;
    }

    #message {
      margin-top: 1rem;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Wordle of Christ</h1>
  <h2>titles and attributes of christ</h2>
  <div id="board"></div>
  <div id="message"></div>

  <script>
    const wordList = [
      "jesus", "christ", "savior", "redeemer", "bishop", 
      "prince", "shepherd", "light", "truth", "alpha", 
      "omega", "word", "alpha", "savior", "lamb", "bread", 
      "creator", "lord", "beloved", "israel", "mighty", "peace", "father", "kings", 
      "almighty", "master", "priest", "prophet", "teacher", "judge", "chief",
      "author", "finisher", "living", "messiah", "branch", "groom", "shiloh", 
      "bright", "great"
    ].filter(word => word.length >= 5 && word.length <= 7); // Filter words to be between 5 and 7 letters long

    const answer = wordList[Math.floor(Math.random() * wordList.length)];
    const answerLength = answer.length;
    const maxGuesses = 6;

    let currentRow = 0;
    let currentTile = 0;
    let board = [];
    let isGameOver = false;

    const boardElement = document.getElementById("board");
    const message = document.getElementById("message");

    // Build board dynamically based on answer length
    for (let i = 0; i < maxGuesses; i++) {
      const row = document.createElement("div");
      row.classList.add("row");
      const rowTiles = [];
      for (let j = 0; j < answerLength; j++) {
        const tile = document.createElement("div");
        tile.classList.add("tile");
        row.appendChild(tile);
        rowTiles.push(tile);
      }
      board.push(rowTiles);
      boardElement.appendChild(row);
    }

    let currentGuess = Array(answerLength).fill("");

    // Keyboard input
    document.addEventListener("keydown", (e) => {
      if (isGameOver) return;

      const key = e.key.toLowerCase();

      if (key === "backspace") {
        if (currentTile > 0) {
          currentTile--;
          currentGuess[currentTile] = "";
          board[currentRow][currentTile].textContent = "";
        }
      } else if (key === "enter") {
        submitGuess();
      } else if (/^[a-z]$/.test(key)) {
        if (currentTile < answerLength) {
          board[currentRow][currentTile].textContent = key.toUpperCase();
          currentGuess[currentTile] = key;
          currentTile++;
        }
      }
    });

    function submitGuess() {
      const guess = currentGuess.join("");

      if (guess.length !== answerLength) {
        message.textContent = `Guess must be ${answerLength} letters.`;
        return;
      }

      if (!wordList.includes(guess)) {
        message.textContent = "Not in word list.";
        return;
      }

      // Evaluate guess
      const tiles = board[currentRow];
      const answerArr = answer.split("");
      const guessArr = guess.split("");
      const used = Array(answerLength).fill(false);

      // First pass: correct letters
      for (let i = 0; i < answerLength; i++) {
        if (guessArr[i] === answerArr[i]) {
          tiles[i].classList.add("correct");
          used[i] = true;
        }
      }

      // Second pass: present but in wrong position
      for (let i = 0; i < answerLength; i++) {
        if (tiles[i].classList.contains("correct")) continue;

        const idx = answerArr.findIndex((char, j) => char === guessArr[i] && !used[j]);
        if (idx !== -1) {
          tiles[i].classList.add("present");
          used[idx] = true;
        } else {
          tiles[i].classList.add("absent");
        }
      }

      if (guess === answer) {
        message.textContent = "ðŸŽ‰ You guessed the title!";
        isGameOver = true;
      } else {
        currentRow++;
        if (currentRow >= maxGuesses) {
          message.textContent = `ðŸ˜ž Out of tries! The title was "${answer.toUpperCase()}".`;
          isGameOver = true;
        } else {
          currentGuess = Array(answerLength).fill("");
          currentTile = 0;
          message.textContent = "";
        }
      }
    }
  </script>
</body>
</html>
